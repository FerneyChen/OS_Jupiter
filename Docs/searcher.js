let SearchResult = '[{"title": "Moodle\u4e3b\u9875", "path": "Moodle.html", "text": ""}, {"title": "Infi2 Pic", "path": "Infi2_Pic.html", "text": "Infi2PicHithisisallmynotesinpictureswhenIwasstudyinginInfi2IhavenotmakeeachofthemintowebsitesdirectlybecausetheyaretoobigsoIputthemintoatableandyoucaneasilycheckitinthefollowingtable"}, {"title": "Infi2 Moodle", "path": "Infi2_moodle.html", "text": ""}, {"title": "Git \u5e38\u7528\u547d\u4ee4", "path": "git\u5e38\u7528\u6307\u4ee4.html", "text": "Git\u5e38\u7528\u547d\u4ee4\u6700\u6700\u5e38\u7528\u7684\u547d\u4ee4\u5f53\u524d\u666e\u901a\u6587\u4ef6\u5939xrightarrowgit\u7ba1\u7406\u7684\u6587\u4ef6\u5939gitinit\u67e5\u770b\u5f53\u524d\u6240\u6709\u4fee\u6539\u6587\u4ef6\u7684\u72b6\u6001\u662f\u5426\u63d0\u4ea4gitstatus\u6dfb\u52a0\u6587\u4ef6\u5230\u6682\u5b58\u533agitadd\u6587\u4ef6\u540d\u5982gitaddREADMEmd\u4e00\u6b21\u6027\u6dfb\u52a0\u6240\u6709\u7684\u88ab\u4fee\u6539\u7684\u6587\u4ef6\u5230\u6682\u5b58\u533agitaddall\u628a\u6587\u4ef6\u63d0\u4ea4\u5230\u4ed3\u5e93gitcommitm\u63d0\u4ea4\u6ce8\u91ca\u5982gitcommitm10\u5c06\u6587\u4ef6\u63a8\u9001\u5230\u8fdc\u7a0bgitpushorigin\u5206\u652f\u540d\u79f0\u5982gitpushoriginmain\u67e5\u770b\u6587\u4ef6\u4fee\u6539\u5185\u5bb9gitdiff\u6587\u4ef6\u540d\u5982gitdiffREADMEmd\u67e5\u770b\u4fee\u6539\u5386\u53f2\u8bb0\u5f55\u8be6\u7ec6gitlog\u67e5\u770b\u4fee\u6539\u5386\u53f2\u8bb0\u5f55\u7b80\u7565gitlogprettyoneline\u67e5\u770b\u4fee\u6539\u7248\u672c\u53f7gitreflog\u7248\u672c\u4e2a\u6570\u56de\u9000\u5c06\u6587\u4ef6\u56de\u9000\u81f3\u524dn\u4e2a\u7248\u672cgitresethardHEAD\u56de\u9000\u7248\u672c\u6570\u91cf\u5982gitresethardHEAD2\u56de\u9000\u81f3\u4e0a\u4e0a\u4e2a\u7248\u672c\u7248\u672c\u53f7\u56de\u9000\u5c06\u6587\u4ef6\u6309\u7248\u672c\u53f7\u56de\u9000gitresethard\u7248\u672c\u53f7\u5982gitresethardabcd123\u64a4\u9500\u64cd\u4f5cgitrestore\u6587\u4ef6\u540d\u6587\u4ef6\u5df2add\u81f3\u6682\u5b58\u533axrightarrow\u64a4\u9500\u81f3\u6dfb\u52a0\u65f6\u7684\u72b6\u6001\u6587\u4ef6\u672aaddxrightarrow\u64a4\u9500\u81f3\u548c\u7248\u672c\u5e93\u4e00\u6478\u4e00\u6837\u7684\u72b6\u6001\u5206\u652f\u64cd\u4f5c\u67e5\u770b\u5206\u652f\u60c5\u51b5gitbranch\u521b\u5efa\u5206\u652fgitbranch\u5206\u652f\u540d\u79f0\u5207\u6362\u5206\u652fgitcheckout\u5206\u652f\u540d\u79f0\u5408\u5e76\u5206\u652f\u5230\u5f53\u524d\u5206\u652fgitmerge\u5206\u652f\u540d\u5408\u5e76\u5b8c\u6210\u540e\u5220\u9664\u5206\u652fgitbranchd\u5206\u652f\u540dgit\u5176\u4ed6\u76f8\u5173\u64cd\u4f5c\u521b\u5efaSSHKeyssshkeygentrsaCyouremailexamplecom\u514b\u9686\u8fdc\u7a0b\u4ed3\u5e93gitclonehttpsgithubcom\u7528\u6237\u540d\u4ed3\u5e93\u540dgit\u67e5\u770b\u8fdc\u7a0b\u5e93\u4fe1\u606fgitremotegitremotev\u8be6\u7ec6"}, {"title": "Data Structure Ass 4", "path": "Data_Str_Ass_4.html", "text": "DataStructureAss4Exercise1ProvethatinadigraphthesumofalloutdegreesequalsthesumofallindegreesWhatistheanalogousstatementforagraphExplanationEachdirectedgecontributes1tothesumofindegreesand1tothesumofoutdegreessincethetotalnumberofdirectededgesleavingavertexisequaltothetotalnumberofdirectededgesenteringthatvertexThereforethesumofalloutdegreesisequaltothesumofallindegreesMoreformallysupposewehaveadigraphwithnverticesLetdibetheoutdegreeofvertexiandletdjbetheindegreeofvertexjThenwehavesumdid1d2dnsumofalloutdegreessumdjd1d2dnsumofallindegreesEverydirectededgeinthegraphcontributesexactlyonetotheoutdegreeofitsstartingvertexandonetotheindegreeofitsendingvertexThereforethetotalnumberofdirectededgesleavingallverticesinthegraphisequaltothetotalnumberofdirectededgesenteringallverticesinthegraphTheanalogousstatementforanundirectedgraphisthatThesumofdegreesistwicethenumberofedgesAndinthatcasethesumofalldegreesisevenSinceeachedgeconnectstwoverticescontributingtwotothesumofdegreesExercise2ConsiderthedigraphGwhosenodesaretheintegersfrom1to12inclusiveandsuchthatijisanarcLeftrightarrowiisaproperdivisorofjthatisidividesjandineqjWritedowntheadjacencymatrixrepresentationofGandofthereversedgraphGrGrGrExplanationWeknowfromdefinition1istheproperdivisorof234567891011122istheproperdivisorof46810123istheproperdivisorof69124istheproperdivisorof8125istheproperdivisorof106istheproperdivisorof12789101112arenotanyproperdivisorsLetAij1ifthereisanedgefromjtoi0otherwiseAijbegincases1textifthereisanedgefromjtoi0textotherwiseendcasesAij1ifthereisanedgefromjtoi0otherwiseThustheadjacencymatrixlookslikethisAG0000000000001100000000000210000000000031100000000004100000000000511100000000061000000000007110100000000810100000000091100100000001010000000000011111213140516070809010011012AGbeginbmatrix0000000000001100000000000210000000000031100000000004100000000000511100000000061000000000007110100000000810100000000091100100000001010000000000011111213140516070809010011012endbmatrixAG0111111111111000101010101200000100100130000000100014000000000100500000000000160000000000007000000000000800000000000090000000000001000000000000011010203040506070809010011012SincethereversegraphwillmakeanedgefromitojxrightarrowjtoithussimplythetransposeofitAGr0111111111111000101010101200000100100130000000100014000000000100500000000000060000000000007000000000000800000000000090000000000001000000000000011010203040506070809010011012AGrbeginbmatrix0111111111111000101010101200000100100130000000100014000000000100500000000000060000000000007000000000000800000000000090000000000001000000000000011010203040506070809010011012endbmatrixAGr0000000000001100000000000210000000000031100000000004100000000000511100000000061000000000007110100000000810100000000091100100000001010000000000011111213140506070809010011012ThisisthetransposeofAGAGAGExercise3ShowhowtocomputethesortedadjacencylistsrepresentationofthereversedigraphofGfromthesortedadjacencylistsrepresentationofGitselfItshouldtaketimenmThetanmnmExplanation1AdraftofthinkingboxedtextAdraftofthinkingAdraftofthinkingSupposethisdigraphhasnverticesandmedgesbecausex112y1z1x212y2z2x312y3z3xn12ykznx1xrightarrow1cdotsxrightarrow2cdotsxrightarrowy1z1x2xrightarrow1cdotsxrightarrow2cdotsxrightarrowy2z2x3xrightarrow1cdotsxrightarrow2cdotsxrightarrowy3z3vdotsxnxrightarrow1cdotsxrightarrow2cdotsxrightarrowykznx112y1z1x212y2z2x312y3z3xn12ykznwherex1x2xny1y2ykmx1x2cdotsxny1y2cdotsykmx1x2xny1y2ykmwewillchangethisliststep1themostleftcolumnremainsthattakesnboxednnx1x2x3xnx1x2x3vdotsxnx1x2x3xnstep2foreachxixixiinthefirstrowx1x1x1thathasbeenpointedtobyarrowxrightarrowfindthecorrespondingxixixiinourcurrentcolumnxrightarrowmakexixixipointtox1x1x1Thistakesy1boxedy1y1ourfirstrowDothisprocessforeachrowxrightarrowittakesy1y2ykmboxedy1y2cdotsykmy1y2ykmForinstanceThusItshouldtaketimenmboxedThetanmnmLetusmakeitmoreformalboxedtextLetusmakeitmoreformalLetusmakeitmoreformalDigraphGVEEV2GVEEsubseteqV2GVEEV2AdjRepvVLvuvuElistofoutneighborsofvforallvinVLvuvuinEtextlistofoutneighborsofvvVLvuvuElistofoutneighborsofvProblemComputeAdjRepGrGrGrDfGrVEruvErvuEGrVEruvinErLeftrightarrowvuinEGrVEruvErvuEInAdjRepGrGrGruVLurVuvErforalluinVLurVuvinEruVLurVuvErReversingboxedReversingReversingInputAdjRepGLvvVleftLvvinVrightLvvVOutputAdjRepGrGrGrLuruVleftLuruinVrightLuruVForeach1boxedeach1each1uVuinVuVdoLurLruLurForeach2boxedeach2each2vVvinVvVdoforeach3boxedeach3each3uL2uinL2uL2dopushvintoLurLruLuroutputLuruVLuruinVLuruVforeach1boxedeach1xrightarroweach1ncyclesforeach2boxedeach2xrightarroweach2ncyclesnisthenumberofverticesv0foreach3m0cyclesv1foreach3m1cyclesvn1foreach3mn1cyclesv0foreach3m0cyclesv1foreach3m1cyclesvdotsvn1foreach3mn1cyclesv0foreach3m0cyclesv1foreach3m1cyclesvn1foreach3mn1cyclesandm0numberofLv0m1numberofLv1mn1numberofLn1Totalnumberi0n1mimm0textnumberofLv0m1textnumberofLv1vdotsmn1textnumberofLn1xrightarrowtextTotalnumbersumlimitsi0n1mimm0numberofLv0m1numberofLv1mn1numberofLn1Totalnumberi0n1mimThusnmThetanmnmSketchboxedSketchSketchExercise4GiveanexampletoshowthatthefollowingconjectureisnottrueifwisreachablefromvandseenvseenwthenwisadescendantofvintheDFSforestSeeTheorem55in1forterminologyExplanationSupposeweperformaDFSonthisgraphstartingfromnodeAandwenumberthenodesaccordingtotheirdiscoverytimessupposewechoosenodeBasvandnodeEaswNodeEisreachablefromnodeBandseenB2seenE5HowevernodeEisnotadescendantofnodeBintheDFStreeasthereisnopathfromnodeBtonodeEintheDFStreeExercise5ProfessorPhasthefollowinginformationtapedtohismirrortohelphimtogetdressedinthemorningSocksbeforeshoesunderwearbeforetrouserstrousersbeforebelttrousersbeforeshoesshirtbeforeglassesshirtbeforetietiebeforejacketshirtbeforehatshirtbeforebeltFindanboxedananacceptableboxedacceptableacceptableorderboxedorderorderofdressingforProfessorPExplanationsocksxrightarrowshoesunderwearxrightarrowtrouserstrousersxrightarrowbeltshoesshirtxrightarrowglasstiehatbelttiexrightarrowjacketAnacceptableordershiftxrightarrowtiexrightarrowjacketxrightarrowunderwearxrightarrowtrousersxrightarrowbeltxrightarrowsocksxrightarrowshoesxrightarrowglassxrightarrowhatInthiscasesocksxrightarrowshoesunderwearxrightarrowtrousersshirtxrightarrowglasstiehatbelttiexrightarrowjacketExercise6Thencubehypercubeisagraphon2n2n2nverticeseachlabelledbyadifferentbitvectoroflengthnIfvv0vn1vv0ldotsvn1vv0vn1andww0wn1ww0ldotswn1ww0wn1aresuchbitvectorsthenthereisanedgebetweenthevertexlabelledvvvandavertexlabelledwwwLeftrightarrowvvvandwwwdifferinexactlyoneboxedoneonecomponentForwhichvaluesofnisthencubebipartiteExplanationn1nNthencubebipartiteforallngeq1ninmathbbNtextthencubebipartiten1nNthencubebipartiteTheverticesofthencubearevectorsv1v2vnv1v2ldotsvnv1v2vnwithentriesvi01viinleft01rightvi01TwoverticesareadjacentLeftrightarrowtheirrespondingvectorsdifferinexactlyoneentryThusforinstance2cubewouldbe000110110001101100011011WecandefinetwosubsetsofGXYwhereXverticeswhohaveanevennumberof1Yverticeswhohaveanoddnumberof1Xlefttextverticeswhohaveanevennumberof1rightYlefttextverticeswhohaveanoddnumberof1rightXverticeswhohaveanevennumberof1Yverticeswhohaveanoddnumberof1BycreatinganedgesstartinginXXXandendinginYYYalledgesareaccountedforandthusthegraphisbipartiteboxedbipartitebipartiteProgram1pythonProg1pyDrivercodeOutputProgram2pythonProg2pyDrivercodeOutputProgram3pythonProg3pyDrivercodeOutputProgram4pythonProg4pyDriverCodeOutputTheadvantagewhentoobigtoholdinmemoryItcanbeimplementedinamemoryefficientwaywithoutrequiringtheentiregraphtobeloadedintomemoryatoncebecauseItonlyneedstokeeptrackofthecurrentnodebeingvisiteditsdepthandthesetofvisitednodesateachdepthlevelAseachdepthlevelisfullyexploredthealgorithmcandiscardthenodesandedgesatthepreviousdepthlevelfreeingupmemoryforthenextlevelAlsoThealgorithmcanbeparallelizedtodistributethesearchacrossmultipleprocessorsormachinesfurtherincreasingitsefficiency"}, {"title": "Alg Lec 15", "path": "Alg_Lec_15.html", "text": "AlgLec15fVVdimVnstffVxrightarrowVdimVninftystchiffVVdimVnstfsplitscompletelyoverKmathbbKKexistsanorderedbasisBofVstfBJn11Jn22JnrrfBbeginbmatrixJn1lambda1Jn2lambda2ddotsJnrlambdarendbmatrixfBJn11Jn22JnrrThisistheJordancanonicalformJCFWithrrrNn1nrNn1nrninmathbbNn1ldotsnrinmathbbNn1cdotsnrnNn1nrNn1nrnThescalars1rlambda1ldotslambdar1raretheeigenvaluesmaybesomerepetitionsundersetundersettextmaybesomerepetitionsdownarroweigenvaluesmaybesomerepetitionseigenvaluesoffffJm11MmKmsizeNeigenvalueKJmmubeginbmatrixmu1muddotsddots1muendbmatrixinMmmathbbKundersetundersettextsizedownarrowminmathbbNundersetundersettexteigenvaluedownarrowmuinmathbbKJm11MmKsizemNeigenvalueKJordanblockofsizemandeigenvaluemuTheJordancanonicalformoffffisuniquelydeterminedbyfffuptoapermutationoftheJordanblocksnumberofblocksInfactthenumberofblocksboxednumberofblocksnumberofblocksinJofsizemandeigenvaluemuisrfIm12rfImrfIm1rfmuIm12rfmuImrfmuIm1rfIm12rfImrfIm1Examplefx13x22chifx13x22fx13x22Theeigenvaluesare12ExampleSupposefVVfVxrightarrowVfVVhasoneboxedoneoneblockofeigenvaluelambdasize3fB100100doesnothaveaseigenvaluefBbeginbmatrixlambda100lambda100lambdatextdoesnothavelambdatextaseigenvalueendbmatrixfB001001doesnothaveaseigenvalueBv1v2Bv1v2ldotsBv1v2fv1v1f1v10fv1lambdav1xrightarrowflambda1v10fv1v1f1v10fv2v1v2fv2v1f2v20fv2v1lambdav2xrightarrowflambdav2v1xrightarrowflambda2v20fv2v1v2fv2v1f2v20fv3v2v3fv3v2f2v3v1f3v30fv3v2lambdav3xrightarrowflambdav3v2xrightarrowflambda2v3v1xrightarrowflambda3v30fv3v2v3fv3v2f2v3v1f3v30Thusfvivi1vifivi0fvivi1lambdavixrightarrowflambdaivi0fvivi1vifivi0kerfv1kerflambdaleftlanglev1rightranglekerfv1kerf2v1v2kerflambda2leftlanglev1v2rightranglekerf2v1v2kerf3v1v2v3kerflambda3leftlanglev1v2v3rightranglekerf3v1v2v3fB010001000BIflambdaBbeginbmatrix010001000BlambdaIendbmatrixfB000100010BIfB2001000000BI2flambdaB2beginbmatrix001000000BlambdaI2endbmatrixfB2000000100BI2fB3000000000BI3flambda3Bbeginbmatrix000000000BlambdaI3endbmatrixfB3000000000BI3Letw3kerf3w3inkerflambda3w3kerf3w2fw3w2flambdaw3w2fw3w1fw2w1flambdaw2w1fw2fw1f2w2f3w30flambdaw1flambda2w2flambda3w30fw1f2w2f3w30fw1w1fw1lambdaw1fw1w1fw2w1w2fw2w1lambdaw2fw2w1w2fw3w2w3fw3w2lambdaw3fw3w2w3observethatLetfVVfVxrightarrowVfVVwithonlyoneboxedoneoneblockofeigenvalueboxedlambdaandletnboxednnbethesizeexistsabasisBBBthattakeffftoJCFBw1w2wnBw1w2ldotswnldotsBw1w2wn0kerfkerf2kerfn1kerfn0leqkerflambdaleqkerflambda2leqcdotsleqkerflambdan1leqkerflambdan0kerfkerf2kerfn1kerfnfBn000000000nnBIiflambdaBnbeginbmatrix00cdots000cdots0vdotsvdotsddotsvdots00cdots0ntimesnBlambdaIiendbmatrixfBn000000000nnBIiLetwnkerfnwninkerflambdanwnkerfnwn1fwnwn1flambdawnwn1fwnwn2fwn1wn2flambdawn1wn2fwn1vdotsw1w1cdotsw1LetAMnKAinMnmathbbKAMnKwithAchiAAsplitscompletelyoverKmathbbKKexistsaninvertiblematrixCCCstCAC1JCAC1JCAC1JwithJJJasJCFThenumberofblocksofJJJwithlambdaandsizenisdeterminedbyAAADefinitionDefunderlinemathbfDefDefABMnKABinMnmathbbKABMnKaresimilarifCMnKexistsCinMnmathbbKCMnKinvertiblestCAC1BCAC1BCAC1BEverymatrixwithchisplitscompletelyissimilartoaJCFTwoJCFaresimilarLeftrightarrowtheyhavethesameblocksCorollaryCorollaryunderlinemathbfCorollaryCorollarytwomatricesinMnCMnmathbbCMnCaresimilarLeftrightarrowtheyhavethesameJCFExampleunderlinemathbfExampleExample1170110012402beginbmatrix1170110012402endbmatrix1001107112042similarwith1110110012302beginbmatrix1110110012302endbmatrix1001101112032111111beginbmatrix111111endbmatrix111111notsimilarwith1111beginbmatrix1111endbmatrix1111ProofunderlinemathbfProofProofLetABMnCABinMnmathbbCABMnCexistsaninvertiblematrixCDCDCDstCAC1JADBD1JBCAC1JADBD1JBCAC1JADBD1JBvdotsProblemProblemunderlinemathbfProblemProblemCountsimilarityclassesHowmanysimilarityclassesarethereofmatricesinMnCMnmathbbCMnCwithAx12x22chiAx12x22Ax12x22JJJisaJCFstx12x22chix12x22x12x22JJn11Jn22JbeginbmatrixJn1lambda1Jn2lambda2ddotsendbmatrixJJn11Jn22observeobservethatthelargestsizeofablockforlambdainJCFofAAAisequaltothemultiplicityof2lambda22rootofAmuAACyclicvectorsfVVvVfVxrightarrowVvinVfVVvVthefcyclicboxedfcyclicfcyclicsubspacegeneratedbyvvvisvfvfvf2vleftlanglevrightranglefleftlanglevfvf2vldotsrightranglevfvfvf2vWesaythatvvvisafcyclicboxedfcyclicfcyclicvectorifvfVleftlanglevrightranglefVvfVExampleExampleunderlinemathbfExampleExampleSupposefB1111fBbeginbmatrixlambda1lambda1lambda1ddotsddotslambda1lambdaendbmatrixfB1111Bv1vnBv1ldotsvnBv1vnvnvnvnisafcyclicboxedfcyclicfcyclicvectorfvnvnvn1fvnvn1becausefvnlambdavnvn1xrightarrowflambdavnvn1fvnvnvn1fvnvn1fvn1vn1vn2f2vnvn2becausefvn1lambdavn1vn2xrightarrowflambda2vnvn2fvn1vn1vn2f2vnvn2vdotsvnfvnfvnf2vnvnvn1vn2v1Vleftlanglevnrightranglefleftlanglevnfvnf2vnldotsrightrangleleftlanglevnvn1vn2ldotsv1rightrangleVvnfvnfvnf2vnvnvn1vn2v1V"}, {"title": "Algebra B Moodle", "path": "AlgB_moodle.html", "text": ""}, {"title": "Alg B Ass 4", "path": "AlgB_Ass_4.html", "text": "AlgBAss4Problem1LetNandMbetwo6times6nilpotentmatricesoverafieldKmathbbKKaShowthatifNandMhavethesameminimalpolynomialandthesamenullitythenNandMaresimilarbProvethatthesameresultisfalsefor77nilpotentmatricesProofunderlinemathbfProofProofabecausetheyarenilpotentxrightarrowtheireigenvaluesare0andthepossiblesizeoftheJordanblockscorrespondingtothepartitionofn6becausemuarethesamexrightarrowtheyhavethesamemaximalblocksizebecausetheyhavethesamenullityxrightarrowtheyhavethesameJCFThusMNaresimilarMNaresimilarMNaresimilarbcounterexampleM7701010010100N7701010010010M7times7beginbmatrix01010010100endbmatrixN7times7beginbmatrix01010010010endbmatrixM7701010010100N7701010010010Problem2aFindtheJCFforthematrixA4100120073207612Abeginbmatrix4100120073207612endbmatrixA4177123600210002bFindaninvertiblematrixPPPsuchthatP1APP1APP1APisthatJordanmatrixProofunderlinemathbfProofProofaAAI2232chiAlambdabeginvmatrixAlambdaIendvmatrixlambda22lambda32AAI2232For2lambda22AI6100140073007610kerAIspan0001AlambdaIbeginbmatrix6100140073007610endbmatrixkerAlambdaIspanleftbeginbmatrix0001endbmatrixrightAI6177143600010000kerAIspan0001Algebraicmultiplicity2Geometricmultiplicity1AIv0001v0010AlambdaIvbeginbmatrix0001endbmatrixxrightarrowvbeginbmatrix0010endbmatrixAIv0001v0010For3lambda33AI1100110073507615kerAIspan1123AlambdaIbeginbmatrix1100110073507615endbmatrixkerAlambdaIspanleftbeginbmatrix1123endbmatrixrightAI1177113600510005kerAIspan1123Algebraicmultiplicity2Geometricmultiplicity1AIv1123vy1y2y13y11011AlambdaIvbeginbmatrix1123endbmatrixxrightarrowvbeginbmatrixy1y2y13y1endbmatrixxrightarrowbeginbmatrix1011endbmatrixAIv1123vy1y2y13y11011Ainbasis1123101100010010leftbeginbmatrix1123endbmatrixbeginbmatrix1011endbmatrixbeginbmatrix0001endbmatrixbeginbmatrix0010endbmatrixright1123101100010010hasJA3100030000210002JAbeginbmatrix3100030000210002endbmatrixJA3000130000200012PPPcorrespondingtothisbasischangeis1100100021013110ieP1APJAbeginbmatrix1100100021013110endbmatrixieP1APJA1123101100010010ieP1APJACheckingthroughpythonP1100100021013110Pbeginbmatrix1100100021013110endbmatrixP1123101100010010A4100120073207612Abeginbmatrix4100120073207612endbmatrixA4177123600210002P1AP3100030000210002P1APbeginbmatrix3100030000210002endbmatrixP1AP3000130000200012"}, {"title": "Moodle", "path": "aa_Bolierplate_out.html", "text": ""}, {"title": "aa_Bolierplate", "path": "aa_Bolierplate.html", "text": ""}]';
obj = JSON.parse(SearchResult);

function check() {
    return false;
}

function maxfor(arr) {
    var len = arr.length;
    var max = -Infinity;
    while (len--) {
        if (arr[len] > max) {
            max = arr[len];
        }
    }
    return max;
}

let input = document.getElementById('input')
let result = document.getElementById('resultlist')
let button = document.getElementById('searchbutton')

input.addEventListener("focus", e => {
    result.id = 'active'
    result.style.overflow = 'hidden'
    result.style.padding = '0px'
    result.style.color="#7fffaa"
    result.style.fontFamily="Poppins"
    result.style.fontWeight="900"
    result.style.fontSize="100"
})
input.addEventListener("blur", e => {
    result.id = 'resultlist'
    result.style.overflow = 'hidden'
    result.style.padding = '0'
})

function searchtext() {
    result.innerHTML = '';


    // 标题搜索
    resultcount = 0;
    resultstr = '';
    var resulttitlecache = new Array()
    for (i = 0; i < obj.length; i++) {
        if (obj[i]['title'].includes(input.value) == true) {
            resulttitlecache.unshift(obj[i]['title'])
            resultcount++;
        }
    }

    // 标题搜索结果展示
    if (resultcount !== 0 && resultcount !== obj.length) {
        for (i = 0; i < resulttitlecache.length; i++) {
            for (j = 0; j < obj.length; j++) {
                if (obj[j]['title'] == resulttitlecache[i]) {
                    titlesearchresult = '<a href="https://ferneychen.github.io/OS_Jupiter/Docs/' + obj[j]["path"] + '" style="color:#f0e68c;font-size:18px">' + obj[j]['title'].replace(new RegExp(input.value, 'g'), '<mark style="background-color:transparent;color:#00ffff">' + input.value + '</mark>')+' <i class="ri-checkbox-multiple-fill"></i><br>'
                    resultstr = titlesearchresult + resultstr
                }
            }
            result.innerHTML = resultstr;
        }
    }

    // 正文搜索
    var resulttextcache = new Array()
    for (i = 0; i < obj.length; i++) {
        if (obj[i]['text'].includes(input.value) == true) {
            resulttextcache.unshift(obj[i]['text'])
            resultcount++;
        }
    }

    // 正文搜索结果计数
    var targetname = new Array()
    var targetscore = new Array()
    if (resulttextcache.length !== 0 && input.value !== '') {
        for (i = 0; i < resulttextcache.length; i++) {
            for (j = 0; j < obj.length; j++) {
                if (obj[j]['text'] == resulttextcache[i]) {
                    targetname.unshift(obj[j]['title'])
                    targetscore.unshift(obj[j]['text'].match(RegExp(input.value, 'gim')).length)
                }
            }
        }
    }

    //排序相关选项
    var targetscorecache = targetscore.concat([]);
    var resultfortext = '';
    var textsearchresult = ''
    targetscorecache.sort(function (a, b) {
        return b - a
    })
    for (i = 0; i < targetscorecache.length; i++) {
        for (j = 0; j < targetscore.length; j++) {
            if (targetscorecache[i] == targetscore[j]) {
                console.log('文章排序:' + targetname[j])
                for (k = 0; k < obj.length; k++) {
                    if (obj[k]['title'] == targetname[j]) {
                        // 确认选区
                        textorder = obj[k]['text'].indexOf(input.value) - 15;
                        while (textorder < 0) {
                            textorder++
                        }

                        resultfortext = '<a href="https://ferneychen.github.io/OS_Jupiter/Docs/' + obj[k]["path"] + '" style="color:#f0e68c;font-size:18px">' + obj[k]['title'] + '</a> <i class="ri-checkbox-multiple-blank-fill"></i>&nbsp;-&nbsp;' + targetscorecache[i] + '&nbsp;Matched'/* + obj[k]['text'].substring(textorder, textorder + 100).replace(new RegExp(input.value, 'g'), '<mark style="background-color:transparent;color:#00ffff">' + input.value + '</mark>')*/+'<br>'
                        textsearchresult = textsearchresult + resultfortext;
                    }
                }
            }
        }
    }

    if (resultcount !== obj.length) {
        if (resultcount == 0) {
            result.innerHTML ='<p>Sorry, we did not find any documents..</p>'
        }
    }

    result.innerHTML = result.innerHTML + textsearchresult.substring(0, textsearchresult.length - 4) 
}
